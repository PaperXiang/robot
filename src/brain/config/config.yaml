brain_node:
  ros__parameters:
    game:
      team_id: 29 # must be consistant with GameControl
      player_id: 1 # 1 | 2 | 3 | 4 | 5
      field_type: "adult_size" # adult_size | kid_size | robo_league
      player_role: "striker" # striker | goal_keeper
      treat_person_as_robot: false 
      number_of_players: 3
      
    robot:
      robot_height: 1.0 
      odom_factor: 1.2 
      vx_factor: 0.50 
      yaw_offset: 0.0 
      vx_limit: 1.2 
      vy_limit: 0.4
      vtheta_limit: 1.2 

    strategy:
      ball_confidence_threshold: 50.0 
      ball_memory_timeout: 5.0 
      tm_ball_dist_threshold: 2.0 
      limit_near_ball_speed: false 
      near_ball_speed_limit: 0.25 
      near_ball_range: 3.0
      abort_kick_when_ball_moved: true 
      cooperation: 
        enable_role_switch: false 
        ball_control_cost_threshold: 12.0
      # 3v3对抗策略配置
      contact_strategy:
        enable: true  # 是否启用对抗策略
        min_dist: 1.0  # 最小对抗距离
        max_dist: 2.5  # 最大对抗距离
        ball_nearby_dist: 1.5  # 对手"持球"判定距离
        contact_speed: 0.8  # 对抗速度
        score_threshold: 0.5  # 对抗评分阈值

    obstacle_avoidance:
      depth_sample_step: 16 
      obstacle_min_height: 0.35 
      grid_size: 0.2 
      max_x: 3.0 
      max_y: 5.0 
      exclusion_x: 0.3 
      exclusion_y: 0.4 
      ball_exclusion_radius: 0.0 
      ball_exclusion_height: 0.3 
      occupancy_threshold: 1 
      collision_threshold: 0.3 
      safe_distance: 2.0 
      avoid_secs: 3.0 
      enable_freekick_avoid: false 
      freekick_start_placing_safe_distance: 0.1 
      freekick_start_placing_avoid_secs: 2.5 
      obstacle_memory_msecs: 500. 
      avoid_during_kick: false 
      kick_ao_safe_dist: 3.0 
      kick_ao_use_shoot: false 
      avoid_during_chase: true 
      chase_ao_safe_dist: 3.5 

    locator:
      min_marker_count: 5
      max_residual: 0.3 

    enable_com: false 

    rerunLog:
      enable_tcp: false 
      server_ip: "127.0.0.1:9876" 
      enable_file: false 
      log_dir: "/home/booster/Workspace/rrlog"
      max_log_file_mins: 5.0 
      img_interval: 1 
    
    recovery:
      retry_max_count: 3  # 测试环境下增加到 3 次，提高恢复成功率

    vision:
        image_topic: "/camera/camera/color/image_raw" 
        depth_image_topic: "/camera/camera/aligned_depth_to_color/image_raw" 
        cam_pixel_width: 1280. 
        cam_pixel_height: 720. 
        cam_fov_x: 90.0 
        cam_fov_y: 60.0 
    
    game_control_ip: "127.0.0.1"

    # for fun and debug
    sound:
      enable: false 
      sound_pack: "espeak" 